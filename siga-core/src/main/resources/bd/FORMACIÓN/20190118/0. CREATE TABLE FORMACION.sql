-- Generated by Oracle SQL Developer Data Modeler 17.4.0.355.2121
--   at:        2019-01-17 17:23:44 CET
--   site:      Oracle Database 11g
--   type:      Oracle Database 11g



CREATE TABLE for_calificaciones (
    idcalificacion      NUMBER(10) NOT NULL,
    descripcion         VARCHAR2(100),
    usumodificacion     NUMBER(10),
    fechamodificacion   DATE,
    fechabaja           DATE
);

ALTER TABLE for_calificaciones ADD CONSTRAINT for_calificacion_pk PRIMARY KEY ( idcalificacion );

CREATE TABLE for_cambioinscripcion (
    idinscripcion         NUMBER(10) NOT NULL,
    idestadoinscripcion   NUMBER(10) NOT NULL,
    fechamodificacion     DATE,
    idinstitucion         NUMBER(4),
    motivo                VARCHAR2(200),
    usumodificacion       NUMBER(10)
);

ALTER TABLE for_cambioinscripcion ADD CONSTRAINT for_cambioinscripcion_pk PRIMARY KEY ( idinscripcion,
idestadoinscripcion );

CREATE TABLE for_certificadoscurso (
    idcertificadocurso      NUMBER(10) NOT NULL,
    idcurso                 NUMBER(10) NOT NULL,
    usumodificacion         NUMBER(10),
    fechamodificacion       DATE,
    fechabaja               DATE,
    idinstitucion           NUMBER(4),
    idtipoproducto          NUMBER(10),
    idproducto              NUMBER(10),
    idproductoinstitucion   NUMBER(10),
    idcalificacion          NUMBER(10) NOT NULL,
    precio                  NUMBER(10,2)
);

ALTER TABLE for_certificadoscurso ADD CONSTRAINT for_certificadoscurso_pk PRIMARY KEY ( idcertificadocurso );

CREATE TABLE for_curso (
    idcurso                     NUMBER(10) NOT NULL,
    idinstitucion               NUMBER(4) NOT NULL,
    codigocurso                 VARCHAR2(100),
    nombrecurso                 VARCHAR2(100),
    preciodesde                 NUMBER(10),
    preciohasta                 NUMBER(10),
    fechainscripciondesde       DATE,
    fechainscripcionhasta       DATE,
    fechaimparticiondesde       DATE,
    fechaimparticionhasta       DATE,
    numeroplazas                NUMBER(10),
    idvisibilidadcurso          NUMBER(2) NOT NULL,
    idestadocurso               NUMBER(10) NOT NULL,
    usumodificacion             NUMBER(10),
    fechamodificacion           DATE,
    idtiposervicio              NUMBER(10),
    descripcion                 VARCHAR2(200),
    lugar                       VARCHAR2(200),
    minimoasistencia            NUMBER(10),
    autovalidacioninscripcion   NUMBER(2),
    documentacionadjunta        VARCHAR2(200),
    encuestasatisfaccion        VARCHAR2(200),
    informacionadicional        VARCHAR2(200),
    flagarchivado               NUMBER(2),
    idservicio                  NUMBER(10)
);

CREATE INDEX for_curso__idx ON
    for_curso ( idcurso ASC );

ALTER TABLE for_curso ADD CONSTRAINT for_curso_pk PRIMARY KEY ( idcurso );

CREATE TABLE for_estadocurso (
    idestadocurso       NUMBER(2) NOT NULL,
    descripcion         VARCHAR2(100),
    usumodificacion     NUMBER(5),
    fechabaja           DATE,
    fechamodificacion   DATE
);

CREATE INDEX for_estadocurso__idx ON
    for_estadocurso ( idestadocurso ASC );

ALTER TABLE for_estadocurso ADD CONSTRAINT for_estadocurso_pk PRIMARY KEY ( idestadocurso );

CREATE TABLE for_estadoinscripcion (
    idestadoinscripcion   NUMBER(10) NOT NULL,
    descripcion           VARCHAR2(100),
    usumodificacion       NUMBER(10),
    fechamodificacion     DATE,
    fechabaja             DATE
);

ALTER TABLE for_estadoinscripcion ADD CONSTRAINT for_estadoinscripcion_pk PRIMARY KEY ( idestadoinscripcion );

CREATE TABLE for_evento_curso (
    idcurso             NUMBER(10) NOT NULL,
    idevento            NUMBER(10) NOT NULL,
    usumodificacion     NUMBER(10),
    fechamodificacion   DATE,
    idinstitucion       NUMBER(4) NOT NULL,
    fechabaja           DATE
);

CREATE INDEX for_evento_idcurso_idx ON
    for_evento_curso (
        idcurso
    ASC,
        idevento
    ASC,
        idinstitucion
    ASC );

ALTER TABLE for_evento_curso ADD CONSTRAINT for_evento_curso_pk PRIMARY KEY ( idcurso,
idevento );

CREATE TABLE for_inscripcion (
    idinscripcion           NUMBER(10) NOT NULL,
    idinstitucion           NUMBER(4) NOT NULL,
    idestadoinscripcion     NUMBER(10) NOT NULL,
    fechasolicitud          DATE,
    calificacion            NUMBER(4,2),
    idpersona               NUMBER(10),
    idcurso                 NUMBER(10) NOT NULL,
    idcalificacion          NUMBER(10),
    usumodificacion         NUMBER(10),
    fechamodificacion       DATE,
    fechabaja               DATE,
    pagada                  NUMBER(2),
    idcargainscripcion      NUMBER(10),
    emitircertificado       NUMBER(1),
    certificadoemitido      NUMBER(1),
    idpeticionsuscripcion   NUMBER(10)
);

ALTER TABLE for_inscripcion ADD CONSTRAINT for_inscripcion_pk PRIMARY KEY ( idinscripcion );

CREATE TABLE for_inscripcionesmasivas (
    idcargainscripcion       NUMBER(10) NOT NULL,
    idinstitucion            NUMBER(4),
    usumodificacion          NUMBER(10),
    fechamodificacion        DATE,
    nombrefichero            VARCHAR2(200),
    numerolineastotales      NUMBER(10),
    inscripcionescorrectas   NUMBER(10),
    idcurso                  NUMBER(10) NOT NULL
);

ALTER TABLE for_inscripcionesmasivas ADD CONSTRAINT for_inscripcionesmasivas_pk PRIMARY KEY ( idcargainscripcion );

CREATE TABLE for_modopago (
    idmodopago          NUMBER(2) NOT NULL,
    descripcion         VARCHAR2(100),
    usumodificacion     NUMBER(10),
    fechabaja           DATE,
    fechamodificacion   DATE
);

ALTER TABLE for_modopago ADD CONSTRAINT for_modopago_pk PRIMARY KEY ( idmodopago );

CREATE TABLE for_persona_curso (
    idformador          NUMBER(10) NOT NULL,
    idpersona           NUMBER(10) NOT NULL,
    idcurso             NUMBER(10) NOT NULL,
    idrol               NUMBER(2),
    usumodificacion     NUMBER(10),
    fechamodificacion   DATE,
    idinstitucion       NUMBER(4) NOT NULL,
    idtipocoste         NUMBER(2) NOT NULL,
    tarifa              NUMBER(10),
    tutor               NUMBER(2),
    fechabaja           DATE
);

ALTER TABLE for_persona_curso ADD CONSTRAINT for_persona_curso_pk PRIMARY KEY ( idformador );

CREATE TABLE for_roles (
    idrol               NUMBER(2) NOT NULL,
    descripcion         VARCHAR2(100),
    usumodificacion     NUMBER(10),
    fecha_baja          DATE,
    fechamodificacion   DATE,
    idinstitucion       NUMBER(4) NOT NULL,
    codigoext           VARCHAR2(10),
    bloqueado           CHAR(1)
);

ALTER TABLE for_roles ADD CONSTRAINT for_roles_pk PRIMARY KEY ( idrol );

CREATE TABLE for_temacurso (
    idtemacurso         NUMBER(10) NOT NULL,
    usumodificacion     NUMBER(10),
    descripcion         VARCHAR2(100),
    fechamodificacion   DATE,
    fechabaja           DATE,
    idinstitucion       NUMBER(4)
);

CREATE INDEX for_temacurso__idx ON
    for_temacurso ( idtemacurso ASC );

ALTER TABLE for_temacurso ADD CONSTRAINT for_temacurso_pk PRIMARY KEY ( idtemacurso );

CREATE TABLE for_temacurso_curso (
    idcurso             NUMBER(10) NOT NULL,
    idtemacurso         NUMBER(10) NOT NULL,
    usumodificacion     NUMBER(10),
    fechamodificacion   DATE,
    idinstitucion       NUMBER(4) NOT NULL,
    fechabaja           DATE
);

CREATE INDEX for_temacurso_curso__idx ON
    for_temacurso_curso (
        idcurso
    ASC,
        idtemacurso
    ASC,
        idinstitucion
    ASC );

ALTER TABLE for_temacurso_curso ADD CONSTRAINT for_temacurso_curso_pk PRIMARY KEY ( idcurso,
idtemacurso );

CREATE TABLE for_tipocoste (
    idtipocoste         NUMBER(2) NOT NULL,
    descripcion         VARCHAR2(100),
    usumodificacion     NUMBER(10),
    fechabaja           DATE,
    fechamodificacion   DATE
);

ALTER TABLE for_tipocoste ADD CONSTRAINT for_tipocoste_pk PRIMARY KEY ( idtipocoste );

CREATE TABLE for_tiposervicio (
    idtiposervicio      NUMBER(10) NOT NULL,
    usumodificacion     NUMBER(10),
    descripcion         VARCHAR2(100),
    fechamodificacion   DATE,
    fecha_baja          DATE,
    idinstitucion       NUMBER(4),
    codigoext           VARCHAR2(10),
    bloqueado           CHAR(1)
);

CREATE INDEX for_tiposer_idtipos_idx ON
    for_tiposervicio ( idtiposervicio ASC );

ALTER TABLE for_tiposervicio ADD CONSTRAINT for_tiposervicio_pk PRIMARY KEY ( idtiposervicio );

CREATE TABLE for_tiposervicio_curso (
    idcurso             NUMBER(10) NOT NULL,
    idttiposervicio     NUMBER(10) NOT NULL,
    usumodificacion     NUMBER(10),
    fechamodificacion   DATE,
    idinstitucion       NUMBER(4) NOT NULL,
    fechabaja           DATE
);

CREATE INDEX for_idcur_tiposerv_idins_idx ON
    for_tiposervicio_curso (
        idcurso
    ASC,
        idttiposervicio
    ASC,
        idinstitucion
    ASC );

ALTER TABLE for_tiposervicio_curso ADD CONSTRAINT for_tiposervicio_curso_pk PRIMARY KEY ( idcurso,
idttiposervicio );

CREATE TABLE for_visibilidadcurso (
    idvisibilidadcurso   NUMBER(2) NOT NULL,
    descripcion          VARCHAR2(100),
    usumodificacion      NUMBER(5),
    fechabaja            DATE,
    fechamodificacion    DATE
);

CREATE INDEX for_visibilidadcurso__idx ON
    for_visibilidadcurso ( idvisibilidadcurso ASC );

ALTER TABLE for_visibilidadcurso ADD CONSTRAINT for_visibilidad_pk PRIMARY KEY ( idvisibilidadcurso );

ALTER TABLE for_cambioinscripcion
    ADD CONSTRAINT for_cambioinsc_for_estinscr_fk FOREIGN KEY ( idestadoinscripcion )
        REFERENCES for_estadoinscripcion ( idestadoinscripcion );

ALTER TABLE for_cambioinscripcion
    ADD CONSTRAINT for_cambioinsc_for_insc_fk FOREIGN KEY ( idinscripcion )
        REFERENCES for_inscripcion ( idinscripcion );

ALTER TABLE for_certificadoscurso
    ADD CONSTRAINT for_certcur_for_calif_fk FOREIGN KEY ( idcalificacion )
        REFERENCES for_calificaciones ( idcalificacion );

ALTER TABLE for_certificadoscurso
    ADD CONSTRAINT for_certcur_for_curso_fk FOREIGN KEY ( idcurso )
        REFERENCES for_curso ( idcurso );

ALTER TABLE for_curso
    ADD CONSTRAINT for_curso_for_estadocurso_fk FOREIGN KEY ( idestadocurso )
        REFERENCES for_estadocurso ( idestadocurso );

ALTER TABLE for_curso
    ADD CONSTRAINT for_curso_for_visibdcurso_fk FOREIGN KEY ( idvisibilidadcurso )
        REFERENCES for_visibilidadcurso ( idvisibilidadcurso );



ALTER TABLE for_tiposervicio_curso
    ADD CONSTRAINT for_for_tiposervicio_curso_fk FOREIGN KEY ( idttiposervicio )
        REFERENCES for_tiposervicio ( idtiposervicio );

ALTER TABLE for_inscripcion
    ADD CONSTRAINT for_insc_for_calif_fk FOREIGN KEY ( idcalificacion )
        REFERENCES for_calificaciones ( idcalificacion );

ALTER TABLE for_inscripcion
    ADD CONSTRAINT for_insc_for_estinscripcio_fk FOREIGN KEY ( idestadoinscripcion )
        REFERENCES for_estadoinscripcion ( idestadoinscripcion );

ALTER TABLE for_inscripcion
    ADD CONSTRAINT for_insc_for_inscmasivas_fk FOREIGN KEY ( idcargainscripcion )
        REFERENCES for_inscripcionesmasivas ( idcargainscripcion );

ALTER TABLE for_inscripcionesmasivas
    ADD CONSTRAINT for_inscmasivas_for_curso_fk FOREIGN KEY ( idcurso )
        REFERENCES for_curso ( idcurso );

ALTER TABLE for_inscripcion
    ADD CONSTRAINT for_inscripcion_for_curso_fk FOREIGN KEY ( idcurso )
        REFERENCES for_curso ( idcurso );

ALTER TABLE for_persona_curso
    ADD CONSTRAINT for_per_curso_for_curso_fk FOREIGN KEY ( idcurso )
        REFERENCES for_curso ( idcurso );

ALTER TABLE for_persona_curso
    ADD CONSTRAINT for_per_curso_for_roles_fk FOREIGN KEY ( idrol )
        REFERENCES for_roles ( idrol );

ALTER TABLE for_persona_curso
    ADD CONSTRAINT for_per_curso_for_tpcoste_fk FOREIGN KEY ( idtipocoste )
        REFERENCES for_tipocoste ( idtipocoste );

ALTER TABLE for_temacurso_curso
    ADD CONSTRAINT for_temacu_curso_for_cur_fk FOREIGN KEY ( idcurso )
        REFERENCES for_curso ( idcurso );

ALTER TABLE for_temacurso_curso
    ADD CONSTRAINT for_temacu_curso_for_tem_fk FOREIGN KEY ( idtemacurso )
        REFERENCES for_temacurso ( idtemacurso );

ALTER TABLE for_tiposervicio_curso
    ADD CONSTRAINT for_temacurso_for_curso_fk FOREIGN KEY ( idcurso )
        REFERENCES for_curso ( idcurso );



-- Oracle SQL Developer Data Modeler Summary Report: 
-- 
-- CREATE TABLE                            19
-- CREATE INDEX                             8
-- ALTER TABLE                             39
-- CREATE VIEW                              0
-- ALTER VIEW                               0
-- CREATE PACKAGE                           0
-- CREATE PACKAGE BODY                      0
-- CREATE PROCEDURE                         0
-- CREATE FUNCTION                          0
-- CREATE TRIGGER                           0
-- ALTER TRIGGER                            0
-- CREATE COLLECTION TYPE                   0
-- CREATE STRUCTURED TYPE                   0
-- CREATE STRUCTURED TYPE BODY              0
-- CREATE CLUSTER                           0
-- CREATE CONTEXT                           0
-- CREATE DATABASE                          0
-- CREATE DIMENSION                         0
-- CREATE DIRECTORY                         0
-- CREATE DISK GROUP                        0
-- CREATE ROLE                              0
-- CREATE ROLLBACK SEGMENT                  0
-- CREATE SEQUENCE                          0
-- CREATE MATERIALIZED VIEW                 0
-- CREATE SYNONYM                           0
-- CREATE TABLESPACE                        0
-- CREATE USER                              0
-- 
-- DROP TABLESPACE                          0
-- DROP DATABASE                            0
-- 
-- REDACTION POLICY                         0
-- 
-- ORDS DROP SCHEMA                         0
-- ORDS ENABLE SCHEMA                       0
-- ORDS ENABLE OBJECT                       0
-- 
-- ERRORS                                   0
-- WARNINGS                                 0
