<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace= "org.itcgae.siga.db.services.com.mappers.ConConsultasExtendsMapper">

	<resultMap type="map" id="mapa">
	</resultMap>
	<sql id="select">
		${query.selectValue}
	</sql>
	<sql id="from">
		${query.fromValue}
	</sql>
	<sql id="innerJoin">
		${query.innerJoinValue}
	</sql>
	<sql id="join">
		${query.joinValue}
	</sql>
	<sql id="leftJoin">
		${query.leftJoinValue}
	</sql>
	<sql id="outerJoin">
		${query.outerJoinValue}
	</sql>
	<sql id="union">
		${query.unionValue}
	</sql>
	<sql id="unionAll">
		${query.unionAllValue}
	</sql>
	<sql id="where">
		${query.whereValue}
	</sql>
	<sql id="orderBy">
		${query.orderByValue}
	</sql>
	<sql id="groupBy">
		${query.groupByValue}
	</sql>
	<sql id="having">
		${query.havingValue}
	</sql>
	
	<sql id="sentencia">
		${query}
	</sql>
	
	<select id="ejecutarConsulta" parameterType="hashmap" resultMap="mapa">
	
		<include refid="select"></include>
		
		<include refid="from"></include>
		

    	<if test="query.innerJoinValue != ''">
	    	<include refid="innerJoin">
	    	</include>
    	</if>
    	
    	<if test="query.joinValue != ''">
    		<include refid="join">
    		</include>
    	</if>
    	
    	<if test="query.leftJoinValue != ''">
	    	<include refid="leftJoin">
	    	</include>
    	</if>
    	
    	<if test="query.outerJoinValue != '' ">
	    	<include refid="outerJoin">
	    	</include>
  		</if>
  		<if test="query.unionValue != '' ">
	    	<include refid="union">
	    	</include>
  		</if>
  		<if test="query.unionAllValue != '' ">
	    	<include refid="unionAll">
	    	</include>
  		</if>
 		<if test="query.whereValue != '' ">
    		<include refid="where">
	    	</include>
   		</if>

  		<if test="query.orderByValue != ''">
	    	<include refid="orderBy">
	    	</include>
  		</if>
  		
  		<if test="query.groupByValue != ''">
	    	<include refid="groupBy">
	    	</include>
  		</if>
  		
  		<if test="query.havingValue != ''">
	    	<include refid="having">
	    	</include>
    	</if>

	</select>
	
	<select id="ejecutarConsultaString" parameterType="hashmap" resultMap="mapa">	
		<include refid="sentencia"></include>
	</select>
</mapper>